{% extends "matrix/default.twig" %}
   {# set defaults #}
{% set slider = {
    imager: {
        options: {
            dominantColor: false,
            blurUp: true,
            mediaBox: block.ratio.value == 'auto' ? false : true,
            objectFit: block.ratio.value == 'auto' ? false : true,
            ratio: block.ratio.value,
            class: 'w-full h-full',
        },
        template: 'default',
    },
    data: block.entry.all(),
    class: {
        slider: 'js-slider relative glide p-4 mb-8 w-full',
        linkWrap: 'linkWrap',
        articleImageCaption: false,
        container: false,
        body: false,
        introTitle: false,
        introTeaser: false,
        introCta: false,
        arrows: 'absolute inset-y-0 inset-x-0 flex flex-col w-full h-full items-center justify-center glide__arrows',
        arrowLeft: 'absolute left-0 glide__arrow glide__arrow--left',
        arrowRight: 'absolute right-0 glide__arrow glide__arrow--right',
        arrowLeftSvg: 'w-16 fill-current text-white ml-4',
        arrowRightSvg: 'w-16 fill-current text-white mr-4',
        bullets: false,
        bullet: 'glide__bullet',
    },
} %}

{% set carousel = {
    imager: {
        options: {
            dominantColor: false,
            blurUp: true,
            mediaBox: block.ratio.value == 'auto' ? false : true,
            objectFit: block.ratio.value == 'auto' ? false : true,
            ratio: block.ratio.value,
            class: 'w-full h-64',
        },
        template: 'default',
    },
    data: block.entry.all(),
    class: {
        slider: 'js-carousel relative glide p-4 mb-8 w-full fast-transition',
        linkWrap: 'linkWrap pointer-events-auto',
        articleImageCaption: false,
        container: 'relative md:absolute top-0 bottom-0 w-full h-full',
        body: 'flex flex-col h-full overflow-hidden w-full group hover:bg-solid-pink justify-center',
        introTitle: 'mx-auto text-transparent group-hover:text-white word-break',
        introTeaser: false,
        introCta: false,
        arrows: 'absolute inset-y-0 inset-x-0 flex flex-col w-full h-full items-center justify-center glide__arrows pointer-events-none',
        arrowLeft: 'absolute left-0 glide__arrow glide__arrow--left pointer-events-auto',
        arrowRight: 'absolute right-0 glide__arrow glide__arrow--right pointer-events-auto',
        arrowLeftSvg: 'w-16 fill-current text-white ml-4',
        arrowRightSvg: 'w-16 fill-current text-white mr-4',
        bullets: false,
        bullet: 'glide__bullet',
    },
} %}


{# check slider layout #}
{% if block.layout == 'js-carousel' %}
    {% set defaults = carousel %}
{% else %}
    {% set defaults = slider %}
{% endif %}

{# -- Merge Default with Options -- #}
{% set opt = opt is defined ? defaults|merge(opt) : defaults %}

{% block blockContent %}
    {% include "_elements/slider/default.twig" with {
        defaults: {},
    } %}
{% endblock %}
